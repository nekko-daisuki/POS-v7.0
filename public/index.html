<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>POSレジシステム</title>
    <link rel="stylesheet" href="style.css">

    <link rel="manifest" href="/manifest.json">

     <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
      <link rel="apple-touch-icon" href="/icons/icon-192x192.png"> <link rel="apple-touch-startup-image" href="/splash_screens/splash-2048x2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
      <script>
        if ('serviceWorker' in navigator) {
          window.addEventListener('load', () => {
            navigator.serviceWorker.register('/service-worker.js')
              .then(registration => {
                console.log('ServiceWorker registration successful with scope: ', registration.scope);
              })
              .catch(err => {
                console.log('ServiceWorker registration failed: ', err);
              });
          });
        }
      </script>
</head>
<body>
    <header class="app-header">
        <button class="hamburger-menu" id="hamburgerMenu">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </button>
        <h1 class="header-title">社交喫茶 知恵の庭 - POSレジ</h1>
    </header>

    <nav class="side-menu" id="sideMenu">
        <ul>
            <li><a href="index.html" class="menu-item active">レジ</a></li>
            <li><a href="order_management.html" class="menu-item">注文管理</a></li>
            <li><a href="menu_settings.html" class="menu-item">メニュー設定</a></li>
        </ul>
    </nav>
    <div class="overlay" id="overlay"></div>

    <div class="pos-container">
        <div class="order-panel">
            <h2 class="order-title">注文リスト</h2>
            <div class="order-list" id="orderList">
            </div>
            <div class="order-summary" id="orderSummary">
                0点 合計 ¥0
            </div>
            <div class="action-buttons">
                <button class="btn btn-cancel" id="cancelOrderBtn">取り消し</button>
                <button class="btn btn-pay" id="paymentBtn">支払いへ</button>
            </div>
        </div>
        <div class="menu-panel">
            </div>
    </div>

    <div class="table-select-screen hidden" id="tableSelectScreen">
        <div class="table-select-container">
            <h2>テーブル番号を選択してください</h2>
            <div class="table-number-display" id="tableNumberDisplay"></div>
            <div class="number-pad" id="tableNumberKeypad">
                <button class="num-key">7</button>
                <button class="num-key">8</button>
                <button class="num-key">9</button>
                <button class="num-key">4</button>
                <button class="num-key">5</button>
                <button class="num-key">6</button>
                <button class="num-key">1</button>
                <button class="num-key">2</button>
                <button class="num-key">3</button>
                <button class="num-key">C</button>
                <button class="num-key">0</button>
                <button class="num-key">T</button> <!-- Takeout -->
            </div>
            <div class="table-select-actions">
                <button class="btn btn-cancel" id="cancelTableSelectBtn">戻る</button>
                <button class="btn btn-confirm" id="confirmTableBtn">決定</button>
            </div>
        </div>
    </div>

    <div class="payment-screen hidden" id="paymentScreen">
        <div class="payment-container grid-background">
            <div class="payment-total" id="paymentTotal">
                合計 ¥0
            </div>
            <div id="paymentTableNumber" class="payment-table-number"></div>
            <div class="payment-details">
                <div>預かり金額 <span id="receivedAmount">¥0</span></div>
            </div>
            <div class="number-pad">
                <button class="num-key">7</button>
                <button class="num-key">8</button>
                <button class="num-key">9</button>
                <button class="num-key">4</button>
                <button class="num-key">5</button>
                <button class="num-key">6</button>
                <button class="num-key">1</button>
                <button class="num-key">2</button>
                <button class="num-key">3</button>
                <button class="num-key">C</button>
                <button class="num-key">0</button>
                <button class="num-key">00</button>
            </div>
            <div class="payment-actions">
                <button class="payment-btn btn-cancel-payment" id="cancelPaymentBtn">取り消し</button>
                <button class="payment-btn btn-complete" id="completeBtn">会計する</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>